{
   "$schema":"http://json-schema.org/draft-07/schema",
   "type":"object",
   "properties":{
      "Organisation":{
         "$ref":"#/definitions/Organisation"
      }
   },
   "required":[
      "Organisation"
   ],
   "title":"Organisation",
   "definitions":{
      "Organisation":{
         "$id":"#/definitions/Organisation",
         "type":"object",
         "title":"The Organisation Schema",
         "required":[
            "participantCode",
            "participantName",
            "roles",
            "primaryMobile",
            "status",
            "encryptionCert",
            "endpointUrl"
         ],
         "properties":{
            "participantCode":{
               "type":"string"
            },
            "hfrCode":{
               "type":"string"
            },
            "participantName":{
               "type":"string"
            },
            "roles":{
               "type":"string"
            },
            "address":{
               "$ref":"#/definitions/Address"
            },
            "primaryEmail":{
               "type":"string",
               "format":"email"
            },
            "additionalEmail":{
               "type":"array",
               "items":{
                  "type":"string",
                  "format":"email"
               },
               "maxItems":2
            },
            "phone":{
               "type":"array",
               "items":{
                  "type":"string"
               },
               "maxItems":3
            },
            "primaryMobile":{
               "type":"string"
            },
            "additionalMobile":{
               "type":"array",
               "items":{
                  "type":"string"
               },
               "maxItems":2
            },
            "status":{
               "type":"string",
               "enum":[
                  "Created",
                  "Active",
                  "Inactive",
                  "Blocked"
               ]
            },
            "signingCertPath":{
               "type":"string",
               "format":"uri"
            },
            "encryptionCert":{
               "type":"string",
               "format":"uri"
            },
            "endpointUrl":{
               "type":"string",
               "format":"url"
            },
            "paymentDetails":{
               "$ref":"#/definitions/paymentDetails"
            }
         }
      },
      "Address":{
         "title": "Address",
         "type":"object",
         "required":[

         ],
         "properties":{
            "plot":{
               "type":"string"
            },
            "street":{
               "type":"string"
            },
            "landmark":{
               "type":"string"
            },
            "locality":{
               "type":"string"
            },
            "village":{
               "type":"string"
            },
            "district":{
               "type":"string"
            },
            "state":{
               "type":"string"
            },
            "pincode":{
               "type":"string"
            }
         }
      },
      "paymentDetails":{
         "title": "PaymentDetails",
         "type":"object",
         "required":[

         ],
         "properties":{
            "upiId":{
               "type":"string"
            },
            "accountNumber":{
               "type":"string"
            },
            "ifscCode":{
               "type":"string"
            }
         },
         "oneOf":[
            {
               "required":[
                  "upiId"
               ]
            },
            {
               "required":[
                  "accountNumber",
                  "ifscCode"
               ]
            }
         ]
      }
   },
   "_osConfig":{
      "ownershipAttributes": [
         {
            "email": "/primaryEmail",
            "mobile": "/primaryMobile",
            "userId": "/participantCode"
         }
      ],
      "uniqueIndexFields":[
         "participantName",
         "participantCode"
      ],
      "subjectJsonPath": "participantName"
   }
}